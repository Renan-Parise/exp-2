A estratégia escolhida para lidar com o problema de tenants neste código é usar um mapa no struct UserManager para armazenar os tenants. Cada tenant é identificado pelo seu nome, e os usuários associados a cada tenant são armazenados como uma lista dentro da estrutura Tenant. Para garantir que as operações de criação de tenant, adição e obtenção de usuários não causem problemas de concorrência, um mutex é utilizado para controlar o acesso concorrente às estruturas de dados.
